module Main where

data IR = IR { getFoo :: Int, getBar :: Int }

data J = pure native J where
  pure native new "extends" :: IR -> J
  pure native getFoo :: J -> Int
  pure native getBar getBarJava :: J -> Int

-- an alternative way to create a new J
pure native newJ "extends" :: IR -> J

main = do
    let j = J.new $ IR { getFoo = 123, getBar = 5 }
    println j.getFoo
    println j.getBar
    let j2 = newJ $ IR { getFoo = 15000, getBar = 80 }
    println j2.getFoo
    println j2.getBar
