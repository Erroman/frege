module Main where

data IR = IR { getFoo :: Int }

data J = pure native J where
  pure native new "extends" :: IR -> J
  pure native getFoo :: J -> Int

-- an alternative way to create a new J
pure native newJ "extends" :: IR -> J

main = do
    let j = J.new $ IR { getFoo = 123 }
    println j.getFoo
    let j2 = newJ $ IR { getFoo = 15000 }
    println j2.getFoo
